{"version":3,"file":"smsapi-javascript-client.cjs.production.min.js","sources":["../src/modules/baseModule/index.ts","../src/modules/hlr/index.ts","../src/modules/profile/index.ts","../src/smsapi/index.ts","../src/smsapi/com.ts","../src/smsapi/pl.ts"],"sourcesContent":["import { AxiosInstance } from 'axios';\n\nexport class BaseModule {\n  protected httpClient: AxiosInstance;\n\n  constructor(httpClient: AxiosInstance) {\n    this.httpClient = httpClient;\n  }\n}\n","import { BaseModule } from '../baseModule';\nimport { HlrCheckResponse } from '../../types';\n\nexport class Hlr extends BaseModule {\n  async check(\n    numbers: string[],\n    idx = ''\n  ): Promise<HlrCheckResponse | HlrCheckResponse[]> {\n    const { data } = await this.httpClient.get<\n      HlrCheckResponse | HlrCheckResponse[]\n    >('/hlr.do', {\n      params: {\n        format: 'json',\n        idx: idx || undefined,\n        number: numbers.join(','),\n      },\n    });\n\n    return data;\n  }\n}\n","import { BaseModule } from '../baseModule';\nimport { PaymentType, ProfileResponse } from '../../types';\n\ninterface ApiProfileResponse {\n  name: string;\n  email: string;\n  username: string;\n  phone_number: string;\n  payment_type: PaymentType;\n  user_type: 'native' | 'subuser';\n  points?: number;\n}\n\nexport class Profile extends BaseModule {\n  async get(): Promise<ProfileResponse> {\n    const { data } = await this.httpClient.get<ApiProfileResponse>('/profile');\n\n    return {\n      email: data.email,\n      name: data.name,\n      paymentType: data.payment_type,\n      phoneNumber: data.phone_number,\n      userType: data.user_type,\n      username: data.username,\n      points: data.points,\n    };\n  }\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport axios, { AxiosInstance } from 'axios';\n// @ts-ignore TS7016\nimport adapter from 'axios/lib/adapters/http';\n\nimport { Hlr } from '../modules/hlr';\nimport { Profile } from '../modules/profile';\n// @ts-ignore TS6059\nimport { version } from '../../package.json';\n/* eslint-enable @typescript-eslint/ban-ts-comment */\n\nexport class SMSAPI {\n  private apiUrl: string;\n  private accessToken: string;\n\n  private httpClient: AxiosInstance;\n\n  public hlr: Hlr;\n  public profile: Profile;\n\n  constructor(accessToken: string, apiUrl: string) {\n    this.accessToken = accessToken;\n    this.apiUrl = apiUrl;\n\n    this.httpClient = this.setHttpClient();\n\n    this.hlr = new Hlr(this.httpClient);\n    this.profile = new Profile(this.httpClient);\n  }\n\n  private getUserAgent(): string {\n    return `smsapi/js-client:${version}`;\n  }\n\n  private setHttpClient(): AxiosInstance {\n    return axios.create({\n      adapter,\n      baseURL: this.apiUrl,\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${this.accessToken}`,\n        'User-Agent': this.getUserAgent(),\n      },\n    });\n  }\n}\n","import { SMSAPI } from '.';\n\nexport class SMSAPIcom extends SMSAPI {\n  constructor(accessToken: string) {\n    const API_URL = 'https://api.smsapi.com';\n\n    super(accessToken, API_URL);\n  }\n}\n","import { SMSAPI } from '.';\n\nexport class SMSAPIpl extends SMSAPI {\n  constructor(accessToken: string) {\n    const API_URL = 'https://api.smsapi.pl';\n\n    super(accessToken, API_URL);\n  }\n}\n"],"names":["BaseModule","httpClient","Hlr","check","numbers","idx","this","get","params","format","undefined","number","join","data","Profile","email","name","paymentType","payment_type","phoneNumber","phone_number","userType","user_type","username","points","SMSAPI","accessToken","apiUrl","setHttpClient","hlr","profile","getUserAgent","axios","create","adapter","baseURL","headers","Accept","Authorization","SMSAPIcom","_SMSAPI","SMSAPIpl"],"mappings":"+SAEaA,EAGX,SAAYC,QACLA,WAAaA,GCHTC,0FACLC,eACJC,EACAC,YAAAA,IAAAA,EAAM,+BAEiBC,KAAKL,WAAWM,IAErC,UAAW,CACXC,OAAQ,CACNC,OAAQ,OACRJ,IAAKA,QAAOK,EACZC,OAAQP,EAAQQ,KAAK,oCANjBC,+CALab,GCUZc,0FACLP,0CACmBD,KAAKL,WAAWM,IAAwB,mCAAvDM,IAAAA,WAED,CACLE,MAAOF,EAAKE,MACZC,KAAMH,EAAKG,KACXC,YAAaJ,EAAKK,aAClBC,YAAaN,EAAKO,aAClBC,SAAUR,EAAKS,UACfC,SAAUV,EAAKU,SACfC,OAAQX,EAAKW,kDAXUxB,GCFhByB,wBASCC,EAAqBC,QAC1BD,YAAcA,OACdC,OAASA,OAET1B,WAAaK,KAAKsB,qBAElBC,IAAM,IAAI3B,EAAII,KAAKL,iBACnB6B,QAAU,IAAIhB,EAAQR,KAAKL,uCAG1B8B,aAAA,6CAIAH,cAAA,kBACCI,EAAMC,OAAO,CAClBC,QAAAA,EACAC,QAAS7B,KAAKqB,OACdS,QAAS,CACPC,OAAQ,mBACRC,wBAAyBhC,KAAKoB,yBAChBpB,KAAKyB,wBCvCdQ,yBACCb,UAGVc,YAAMd,EAFU,iDAFWD,GCAlBgB,yBACCf,UAGVc,YAAMd,EAFU,gDAFUD"}