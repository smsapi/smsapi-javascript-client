{"version":3,"file":"smsapi-javascript-client.cjs.development.js","sources":["../src/modules/baseModule/index.ts","../src/modules/hlr/index.ts","../src/modules/profile/index.ts","../src/modules/templates/index.ts","../src/smsapi/index.ts","../src/smsapi/com.ts","../src/smsapi/pl.ts"],"sourcesContent":["import { AxiosInstance } from 'axios';\n\nexport class BaseModule {\n  protected httpClient: AxiosInstance;\n\n  constructor(httpClient: AxiosInstance) {\n    this.httpClient = httpClient;\n  }\n}\n","import { BaseModule } from '../baseModule';\n\nimport { HlrCheckResponse } from './types/HlrCheckResponse';\n\nexport class Hlr extends BaseModule {\n  async check(\n    numbers: string[],\n    idx = ''\n  ): Promise<HlrCheckResponse | HlrCheckResponse[]> {\n    const { data } = await this.httpClient.get<\n      HlrCheckResponse | HlrCheckResponse[]\n    >('/hlr.do', {\n      params: {\n        format: 'json',\n        idx: idx || undefined,\n        number: numbers.join(','),\n      },\n    });\n\n    return data;\n  }\n}\n","import { BaseModule } from '../baseModule';\n\nimport { PaymentType } from './types/PaymentType';\nimport { ProfileResponse } from './types/ProfileResponse';\n\ninterface ApiProfileResponse {\n  name: string;\n  email: string;\n  username: string;\n  phone_number: string;\n  payment_type: PaymentType;\n  user_type: 'native' | 'subuser';\n  points?: number;\n}\n\nexport class Profile extends BaseModule {\n  async get(): Promise<ProfileResponse> {\n    const { data } = await this.httpClient.get<ApiProfileResponse>('/profile');\n\n    return {\n      email: data.email,\n      name: data.name,\n      paymentType: data.payment_type,\n      phoneNumber: data.phone_number,\n      userType: data.user_type,\n      username: data.username,\n      points: data.points,\n    };\n  }\n}\n","import { BaseModule } from '../baseModule';\nimport { ApiCollection } from '../../types';\n\nimport { NewTemplate } from './types/NewTemplate';\nimport { Template } from './types/Template';\n\nexport class Templates extends BaseModule {\n  async get(): Promise<ApiCollection<Template>> {\n    const { data } = await this.httpClient.get<ApiCollection<Template>>(\n      '/sms/templates'\n    );\n\n    return data;\n  }\n\n  async getById(templateId: string): Promise<Template> {\n    const { data } = await this.httpClient.get<Template>(\n      `/sms/templates/${templateId}`\n    );\n\n    return data;\n  }\n\n  async create(newTemplate: NewTemplate): Promise<Template> {\n    const { data } = await this.httpClient.post<Template>(\n      '/sms/templates',\n      newTemplate\n    );\n\n    return data;\n  }\n\n  async update(\n    templateId: string,\n    newTemplate: Partial<NewTemplate>\n  ): Promise<Template> {\n    const { data } = await this.httpClient.put<Template>(\n      `/sms/templates/${templateId}`,\n      newTemplate\n    );\n\n    return data;\n  }\n\n  async remove(templateId: string): Promise<void> {\n    await this.httpClient.delete(`/sms/templates/${templateId}`);\n  }\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport axios, { AxiosInstance } from 'axios';\n// @ts-ignore TS7016\nimport adapter from 'axios/lib/adapters/http';\n\nimport { Hlr } from '../modules/hlr';\nimport { Profile } from '../modules/profile';\nimport { Templates } from '../modules/templates';\n// @ts-ignore TS6059\nimport { version } from '../../package.json';\n/* eslint-enable @typescript-eslint/ban-ts-comment */\n\nexport class SMSAPI {\n  private apiUrl: string;\n  private accessToken: string;\n\n  private httpClient: AxiosInstance;\n\n  public hlr: Hlr;\n  public profile: Profile;\n  public templates: Templates;\n\n  constructor(accessToken: string, apiUrl: string) {\n    this.accessToken = accessToken;\n    this.apiUrl = apiUrl;\n\n    this.httpClient = this.setHttpClient();\n\n    this.hlr = new Hlr(this.httpClient);\n    this.profile = new Profile(this.httpClient);\n    this.templates = new Templates(this.httpClient);\n  }\n\n  private getUserAgent(): string {\n    return `smsapi/js-client:${version}`;\n  }\n\n  private setHttpClient(): AxiosInstance {\n    return axios.create({\n      adapter,\n      baseURL: this.apiUrl,\n      headers: {\n        Accept: 'application/json',\n        Authorization: `Bearer ${this.accessToken}`,\n        'User-Agent': this.getUserAgent(),\n      },\n    });\n  }\n}\n","import { SMSAPI } from '.';\n\nexport class SMSAPIcom extends SMSAPI {\n  constructor(accessToken: string) {\n    const API_URL = 'https://api.smsapi.com';\n\n    super(accessToken, API_URL);\n  }\n}\n","import { SMSAPI } from '.';\n\nexport class SMSAPIpl extends SMSAPI {\n  constructor(accessToken: string) {\n    const API_URL = 'https://api.smsapi.pl';\n\n    super(accessToken, API_URL);\n  }\n}\n"],"names":["BaseModule","httpClient","Hlr","check","numbers","idx","get","params","format","undefined","number","join","data","Profile","email","name","paymentType","payment_type","phoneNumber","phone_number","userType","user_type","username","points","Templates","getById","templateId","create","newTemplate","post","update","put","remove","SMSAPI","accessToken","apiUrl","setHttpClient","hlr","profile","templates","getUserAgent","version","axios","adapter","baseURL","headers","Accept","Authorization","SMSAPIcom","API_URL","SMSAPIpl"],"mappings":"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"}