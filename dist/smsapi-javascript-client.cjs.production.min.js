"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("axios")),r=t(require("axios/lib/adapters/http")),n=t(require("lodash/camelCase")),s=t(require("lodash/forEach")),i=t(require("lodash/isArray")),o=t(require("lodash/isObject")),c=t(require("lodash/mapKeys"));function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var p=function(t){this.httpClient=t},h=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.check=function(t,e){try{return Promise.resolve(this.httpClient.get("/hlr.do",{params:{format:"json",idx:e,number:t.join(",")}}))}catch(t){return Promise.reject(t)}},e}(p),l=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.get=function(){try{return Promise.resolve(this.httpClient.get("/profile"))}catch(t){return Promise.reject(t)}},e}(p),m=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;return r.get=function(){try{var t=this;return Promise.resolve(t.httpClient.get("/sms/sendernames")).then((function(e){return u({},e,{collection:e.collection.map(t.formatSendernameDates)})}))}catch(t){return Promise.reject(t)}},r.getBySender=function(t){try{var e=this;return Promise.resolve(e.httpClient.get("/sms/sendernames/"+t)).then((function(t){return e.formatSendernameDates(t)}))}catch(t){return Promise.reject(t)}},r.create=function(t){try{var e=this;return Promise.resolve(e.httpClient.post("/sms/sendernames",{sender:t})).then((function(t){return e.formatSendernameDates(t)}))}catch(t){return Promise.reject(t)}},r.makeDefault=function(t){try{return Promise.resolve(this.httpClient.post("/sms/sendernames/"+t+"/commands/make_default")).then((function(){}))}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return Promise.resolve(this.httpClient.delete("/sms/sendernames/"+t)).then((function(){}))}catch(t){return Promise.reject(t)}},r.formatSendernameDates=function(t){return u({},t,{createdAt:new Date(t.createdAt)})},e}(p),f=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;return r.get=function(){try{return Promise.resolve(this.httpClient.get("/subusers"))}catch(t){return Promise.reject(t)}},r.getById=function(t){try{return Promise.resolve(this.httpClient.get("/subusers/"+t))}catch(t){return Promise.reject(t)}},r.create=function(t){try{var e=t.credentials,r=t.points;return Promise.resolve(this.httpClient.post("/subusers",u({},t,{credentials:{username:e.username,password:e.password,api_password:e.apiPassword},points:r?{from_account:r.fromAccount,per_month:r.perMonth}:void 0})))}catch(t){return Promise.reject(t)}},r.update=function(t,e){try{var r=e.credentials,n=e.points;return Promise.resolve(this.httpClient.put("/subusers/"+t,u({},e,{credentials:r&&(r.password||r.apiPassword)?{password:r.password,api_password:r.apiPassword}:void 0,points:n&&(n.fromAccount||n.perMonth)?{from_account:n.fromAccount,per_month:n.perMonth}:void 0})))}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return Promise.resolve(this.httpClient.delete("/subusers/"+t)).then((function(){}))}catch(t){return Promise.reject(t)}},e}(p),d=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;return r.get=function(){try{return Promise.resolve(this.httpClient.get("/sms/templates"))}catch(t){return Promise.reject(t)}},r.getById=function(t){try{return Promise.resolve(this.httpClient.get("/sms/templates/"+t))}catch(t){return Promise.reject(t)}},r.create=function(t){try{return Promise.resolve(this.httpClient.post("/sms/templates",t))}catch(t){return Promise.reject(t)}},r.update=function(t,e){try{return Promise.resolve(this.httpClient.put("/sms/templates/"+t,e))}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return Promise.resolve(this.httpClient.delete("/sms/templates/"+t)).then((function(){}))}catch(t){return Promise.reject(t)}},e}(p),P=function(t){return c(t,(function(t,e){return n(e)}))},v=function(t){var e=P(t);return s(e,(function(t,r){o(t)&&(e[r]=P(t))})),e},y=function(t){var e=t.data;return e?i(e)?e.map(v):e.collection&&e.size?u({},e,{collection:e.collection.map(v)}):v(e):e},j=function(){function t(t,e){this.accessToken=t,this.apiUrl=e,this.httpClient=this.setHttpClient(),this.hlr=new h(this.httpClient),this.profile=new l(this.httpClient),this.sendernames=new m(this.httpClient),this.subusers=new f(this.httpClient),this.templates=new d(this.httpClient)}var n=t.prototype;return n.getUserAgent=function(){return"smsapi/js-client:2.0.0"},n.setHttpClient=function(){var t=e.create({adapter:r,baseURL:this.apiUrl,headers:{Accept:"application/json",Authorization:"Bearer "+this.accessToken,"User-Agent":this.getUserAgent()}});return t.interceptors.response.use(y),t},t}(),C=function(t){function e(e){return t.call(this,e,"https://api.smsapi.com")||this}return a(e,t),e}(j),g=function(t){function e(e){return t.call(this,e,"https://api.smsapi.pl")||this}return a(e,t),e}(j);exports.SMSAPI={__proto__:null},exports.SMSAPIcom=C,exports.SMSAPIpl=g;
//# sourceMappingURL=smsapi-javascript-client.cjs.production.min.js.map
